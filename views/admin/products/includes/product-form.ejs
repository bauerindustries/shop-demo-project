<!-- enctype set as form data will contain image/file, plus CSRF token added as query string parameter -->
<form
  action="<%= submitPath %>?_csrf=<%= locals.csrfToken %> "
  method="POST"
  enctype="multipart/form-data"
>
  <p>
    <label for="title">Title</label>
    <input
      type="text"
      id="title"
      name="title"
      value="<%= product.title %>"
      required
    />
  </p>
  <p>
    <label for="image">Image</label>
    <% if (product.image) { %>
      <img src="/products/assets/images/<%= product.image %>" alt=""  width="100">
    <% } %>
    <input
      type="file"
      id="image"
      name="image"
      accept="image/png, image/jpg"
      <% if (imageRequired) { %>
        required
      <% } %>
      />
  </p>
  <p>
    <label for="summary">Summary</label>
    <input
      type="text"
      id="summary"
      name="summary"
      required
      maxlength="255"
      value="<%= product.summary %>"
    />
  </p>
  <p>
    <label for="price">Price</label>
    <input
      type="number"
      id="price"
      name="price"
      required
      min="0.01"
      step="0.01"
      value="<%= product.price %>"
    />
  </p>
  <p>
    <label for="description">Description</label>
    <textarea
      type="textarea"
      id="description"
      name="description"
      rows="7"
      required
    ><%= product.description %></textarea>
  </p>
  <p>
    <button type="reset" class="btn btn-alt">Clear</button>
    <button type="submit" class="btn">Save</button>
  </p>
</form>
